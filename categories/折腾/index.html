<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="renderer" content="webkit"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5"><link rel="prefetch" href="//pximg.kwaa.moe/img-original/img/2017/01/23/23/51/08/61082386_p0.jpg"><link rel="dns-prefetch" href="//cdn.jsdelivr.net"><link rel="dns-prefetch" href="//i.loli.net"><link rel="dns-prefetch" href="//utteranc.es"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdui@1.0.0/dist/css/mdui.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/PrismJS/prism-themes/themes/prism-material-dark.min.css"><meta name="theme-color" content="#2196F3"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><style>body,html{scroll-behavior:smooth;min-height:100vh}.mdui-hoverable:focus,.mdui-hoverable:hover{-webkit-box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)!important;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)!important}.mdui-card-primary-title{text-decoration:none!important}.page-number{display:none!important}.mdui-container-fluid{transition:opacity .4s}.mdui-typo code,.mdui-typo pre{font-family:'Source Code Pro',Consolas,Menlo,monospace!important}body{background-color:rgba(0,0,0,.39);background-repeat:no-repeat;background-position:center center;background-size:cover;background-attachment:fixed;background-blend-mode:multiply}</style><title>分类: 折腾 - ./kwaa.dev</title><meta name="description" itemprop="description" content><meta name="keywords" content><link rel="canonical" href="https://kwaa.dev/categories/%E6%8A%98%E8%85%BE/"><meta property="og:type" content="website"><meta property="og:title" content=".&#x2F;kwaa.dev"><meta property="og:url" content="https://kwaa.dev/categories/%E6%8A%98%E8%85%BE/index.html"><meta property="og:site_name" content=".&#x2F;kwaa.dev"><meta property="og:locale" content="zh_CN"><meta property="article:author" content="藍"><meta name="twitter:card" content="summary"><meta name="generator" content="Hexo 5.0.0"></head><body class="mdui-theme-primary-blue mdui-theme-accent-blue mdui-appbar-with-toolbar"><div class="mdui-theme-layout-dark"><header id="appbar" class="mdui-appbar mdui-appbar-fixed mdui-shadow-0 mdui-appbar-scroll-hide"><div class="mdui-toolbar"> <button mdui-drawer="{target: '.mdui-drawer'}" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">menu</i></button> <a href="/" class="mdui-typo-title">./kwaa.dev</a><div class="mdui-toolbar-spacer"></div> <a href="/search/" class="mdui-btn mdui-btn-icon mdui-ripple"><i class="mdui-icon material-icons">search</i></a></div></header><aside class="mdui-drawer mdui-drawer-close"><nav class="mdui-list" mdui-collapse="{accordion: true}"><a href="/about/" class="mdui-list-item mdui-ripple"><div class="mdui-list-item-avatar"> <img src="https://oss.917.moe/chino.webp"></div><div class="mdui-list-item-content">藍</div></a><div class="mdui-divider"></div> <a href="/" class="mdui-list-item mdui-ripple"><i class="mdui-list-item-icon mdui-icon material-icons">home</i><div class="mdui-list-item-content">主页</div></a><div class="mdui-collapse-item"><div class="mdui-collapse-item-header mdui-list-item mdui-ripple"> <i class="mdui-list-item-icon mdui-icon material-icons">inbox</i><div class="mdui-list-item-content">归档</div> <i class="mdui-collapse-item-arrow mdui-icon material-icons">keyboard_arrow_down</i></div><div class="mdui-collapse-item-body mdui-list mdui-list-dense"> <a class="mdui-list-item mdui-ripple m-link" href="/archives/2020/07/">七月 2020</a><a class="mdui-list-item mdui-ripple m-link" href="/archives/2020/06/">六月 2020</a><a class="mdui-list-item mdui-ripple m-link" href="/archives/2020/04/">四月 2020</a><a class="mdui-list-item mdui-ripple m-link" href="/archives/2020/02/">二月 2020</a><a class="mdui-list-item mdui-ripple m-link" href="/archives/2019/11/">十一月 2019</a></div></div><div class="mdui-collapse-item"><div class="mdui-collapse-item-header mdui-list-item mdui-ripple"> <i class="mdui-list-item-icon mdui-icon material-icons">apps</i><div class="mdui-list-item-content">分类</div> <i class="mdui-collapse-item-arrow mdui-icon material-icons">keyboard_arrow_down</i></div><div class="mdui-collapse-item-body mdui-list mdui-list-dense"> <a class="mdui-list-item mdui-ripple m-link" href="/categories/%E6%8A%98%E8%85%BE/">折腾</a><a class="mdui-list-item mdui-ripple m-link" href="/categories/%E6%9D%82%E8%B0%88/">杂谈</a><a class="mdui-list-item mdui-ripple m-link" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a><a class="mdui-list-item mdui-ripple m-link" href="/categories/%E9%9F%B3%E9%A2%91/">音频</a></div></div> <a href="/tags" class="mdui-list-item mdui-ripple"><i class="mdui-list-item-icon mdui-icon material-icons">local_offer</i><div class="mdui-list-item-content">标签</div></a> <a href="/links/" class="mdui-list-item mdui-ripple"><i class="mdui-list-item-icon mdui-icon material-icons">supervisor_account</i><div class="mdui-list-item-content">友链</div></a></nav><div class="mdui-divider"></div><footer class="mdui-m-l-2 mdui-m-t-1 mdui-typo mdui-text-color-theme-disabled"><p class="mdui-m-b-0"> <a href="https://kwaa.dev/atom.xml">RSS</a> | BG: <a target="_blank" rel="noopener" href="https://www.pixiv.net/artworks/61082386">星の唄</a><br> © 2019 - 2020 藍<br> Hosted on <a href="https://github.com/kwaa/kwaa.github.io" rel="noreferrer" target="_blank">Github</a><br> Powered by <a href="https://hexo.io/" rel="noreferrer" target="_blank">Hexo</a><br> Theme - <a href="https://github.com/kwaa/m" rel="noreferrer" target="_blank" mdui-tooltip="{position:'right', content: 'AB7575DD-9E94-B917-85CD-000D7FEBEAAE'}">M</a></p></footer></aside></div><div class="mdui-container-fluid" style="opacity:0"><main id="main" class="mdui-center" style="max-width:720px"><div class="mdui-toolbar mdui-color-grey-900 mdui-m-y-2 mdui-p-x-1" style="opacity:.87;border-radius:4px"> <span class="mdui-typo">目前显示的是分类为 <b>折腾</b> 的文章</span><div class="mdui-toolbar-spacer"></div> <a href="/" class="mdui-btn mdui-btn-raise mdui-ripple">主页</a></div><div class="mdui-theme-layout-auto mdui-color-transparent"><div class="mdui-theme-layout-auto mdui-color-transparent"><article class="mdui-card mdui-hoverable mdui-shadow-0 mdui-m-y-2" style="opacity:.87;border-radius:4px"><div class="mdui-card-media"> <img src="https://i.loli.net/2020/08/03/wQGcCKZiB8Y6gXf.png"></div><div class="mdui-card-primary mdui-ripple"> <a href="/p/theme-m/" role="heading" aria-level="1" class="mdui-card-primary-title mdui-text-color-theme-text">Introducting Theme-M</a><div class="mdui-card-primary-subtitle mdui-typo"> <span><a class="category-link" href="/categories/%E6%8A%98%E8%85%BE/">折腾</a> -</span> <span mdui-tooltip="{content:'创建时间：2020-07-26<br>最后更新时间：2020-07-26'}">2020-07-26 -</span> <span>p/theme-m/</span></div></div><div class="mdui-divider"></div><div class="mdui-card-content mdui-typo"><p>THEME-M 从 2019 年初创建文件夹，于 2020 年 7 月重写。<br> 重写后卖相更好+精简依赖项，目前只有 MDUI 必须引用；以至于我的样式补丁直接打在页首。<br> 新外观参考了不少主题/网站，这里就不一个个列出来了。<br> 我个人属于简洁主义者<s>尽管源码并不简洁</s>，所以只实现了自己需要的功能。<br> jQuery 再见！</p><blockquote><p>我真的不擅长写 EJS/JS，语法臃肿以后再改进吧<s>或者不改进了</s>。</p></blockquote><h3 id="项目地址">项目地址</h3><p><a target="_blank" rel="noopener" href="https://github.com/kwaa/m">kwaa/m</a></p><h3 id="功能说明">功能说明</h3><h4 id="自动暗模式">自动暗模式</h4><p>MDUI 自带（我提了个 issue），在主题里应用栏+侧边栏和卡片是分开设置的（分别为 theme.m.layout 和 theme.mdui.layout，theme.m.layout 未设置时自动使用 theme.mdui.layout 的值）。</p><h4 id="评论">评论</h4><p>只做了 Utterances。</p><h4 id="PJAX">PJAX</h4><p>重写后用的是<a target="_blank" rel="noopener" href="https://github.com/MoOx/pjax">MoOx/pjax</a>，不需要 jQuery。<br> 没有进度条，因为我觉得淡入淡出效果足够了。</p><h4 id="Lazyload">Lazyload</h4><p>这次没有在初版实现，之后打算用<a target="_blank" rel="noopener" href="https://github.com/aFarkas/lazysizes">aFarkas/lazysizes</a>。</p><h4 id="TOC">TOC</h4><p>一样没有在初版实现，TOC是我最头疼的功能因为写起来很麻烦。</p><h4 id="语法高亮">语法高亮</h4><p>好麻烦啊… 以前用的 highlight.js 效果不太好，这次我想换换口味。</p><blockquote><p>使用 prism.js 语法高亮，你需要安装 hexo-renderer-markdown-it。</p></blockquote><h4 id="搜索">搜索</h4><p>一样很麻烦，我这次连搬都懒得搬了。</p><h3 id="文档">文档</h3><p>不打算写文档。</p><h3 id="版本号">版本号</h3><p>Theme-M 不设版本号，如果你是来自未来的其他使用者，你可以把 git pull 当作滚动更新；<br> 需要注意，我随时可能根据自己的喜好调整/删除任何内容。</p><h3 id="许可证">许可证</h3><p>我讨厌GPL的传染性，所以不会用它。<br> MIT？Apache2.0？这些都很好，但我还是想用——<br> <a target="_blank" rel="noopener" href="http://wtfpl.net">WTFPL(Do What The Fuck You Want To Public License)</a>.</p><p>You just DO WHAT THE FUCK YOU WANT TO!</p><h3 id="样式测试">样式测试</h3><p>以免麻烦，顺手放在这里。</p><pre class="language-css" data-language="css"><code class="language-css"><span class="token selector">pre[class*="language-"]</span> <span class="token punctuation">&#123;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0.5em 0<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 1.25em 1em<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>show_all<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// Display pages on the left side of the current page</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> current<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    result <span class="token operator">+=</span> <span class="token function">pageLink</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token comment">// Display the current page</span>
  result <span class="token operator">+=</span> currentPage<span class="token punctuation">;</span>
  <span class="token comment">// Display pages on the right side of the current page</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> current <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> total<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    result <span class="token operator">+=</span> <span class="token function">pageLink</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre><blockquote class="mdui-m-x-0 mdui-m-t-4"> <strong>作者：<a href="/about/">藍</a><br> 链接：<a href="https://kwaa.dev/p/theme-m/">https://kwaa.dev/p/theme-m/</a><br> 本文采用 <a rel="license noopener" target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> 进行许可。</strong></blockquote><div class="mdui-m-t-2"> <a class="mdui-btn mdui-btn-dense mdui-ripple mdui-m-r-1 m-none-link" href="/tags/Hexo/" rel="tag">Hexo</a><a class="mdui-btn mdui-btn-dense mdui-ripple mdui-m-r-1 m-none-link" href="/tags/Theme-M/" rel="tag">Theme-M</a></div></div></article></div></div><div class="mdui-theme-layout-auto mdui-color-transparent"><div class="mdui-theme-layout-auto mdui-color-transparent"><article class="mdui-card mdui-hoverable mdui-shadow-0 mdui-m-y-2" style="opacity:.87;border-radius:4px"><div class="mdui-card-primary mdui-ripple"> <a href="/p/s3rver/" role="heading" aria-level="1" class="mdui-card-primary-title mdui-text-color-theme-text">S3RVER - 使用 Arch Linux 的 ALL-IN-ONE 服务器</a><div class="mdui-card-primary-subtitle mdui-typo"> <span><a class="category-link" href="/categories/%E6%8A%98%E8%85%BE/">折腾</a> -</span> <span mdui-tooltip="{content:'创建时间：2020-02-02<br>最后更新时间：2020-02-23'}">2020-02-02 -</span> <span>p/s3rver/</span></div></div><div class="mdui-divider"></div><div class="mdui-card-content mdui-typo"><p>新的一年我终于有预算在家里摆一小只服务器了。</p> <a class="mdui-btn mdui-btn-block mdui-ripple" href="/p/s3rver/">阅读全文</a></div></article></div></div></main></div> <a href="#" class="mdui-fab mdui-fab-fixed mdui-hidden-xs mdui-color-theme-accent mdui-ripple"><i class="mdui-icon material-icons">keyboard_arrow_up</i></a></body><script src="https://cdn.jsdelivr.net/npm/mdui@1.0.0/dist/js/mdui.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs@1.20.0/prism.min.js"></script><script>var $=mdui.$;function fadeIn(){$(".mdui-container-fluid").css("opacity","1"),pangu.autoSpacingPage(),Prism.highlightAll(),$("body").css("background-image",'url("https://pximg.kwaa.moe/img-original/img/2017/01/23/23/51/08/61082386_p0.jpg")')}fadeIn();</script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>var pjax=new Pjax({selectors:["title","meta[name=description]","#main"]});function fadeOut(){$(".mdui-container-fluid").css("opacity","0")}document.addEventListener("pjax:send",fadeOut),document.addEventListener("pjax:complete",fadeIn);</script></html>