<%- js(theme.vendors.mdui_js) %>
<% if(theme.plugins.script) { theme.plugins.script.forEach(function(link) { %>
    <script src="<%= link %>"></script>
<% })} %>
<script>
    var $ = mdui.$;
    <% if(theme.plugins.pwa == true) { %>
    if ('serviceWorker' in navigator) {
    window.onload = function () {
        navigator.serviceWorker.register("<%= url_for('/sw.js') %>");
    };}
    <% } %>
</script>
<% if(theme.plugins.pjax == true) { %>
<%- js(theme.vendors.pjax_js) %>
<script>
    var pjax = new Pjax({
        selectors: ["title",<% if(config.description) { %>"meta[name=description]",<% } %>"main"],
        switches: {
            "main": function(oldEl, newEl, options) {
                $('.mdui-container-fluid').css('opacity', '0');
                oldEl.innerHTML = newEl.innerHTML;
                setTimeout(() => {
                    $('.mdui-container-fluid').css('opacity', '1');
                    this.onSwitch();
                },400);
            },
        },
        cacheBust: false,
    });
</script>
<% } %>