<script type="text/javascript">
    (function () {
        var utterances = document.createElement('script');
        utterances.type = 'text/javascript';
        utterances.async = true;
        <% if(theme.comments.utterances.theme == 'github-auto') { %>
            if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
                utterances.setAttribute('theme', 'github-dark');
            } else {
                utterances.setAttribute('theme', 'github-light');
            }
        <% } else { %>
        utterances.setAttribute('theme', '<%= theme.comments.utterances.theme %>')
        <% } %>
        utterances.setAttribute('issue-term', '<%= theme.comments.utterances.issue_term %>')
        utterances.setAttribute('repo', '<%= theme.comments.utterances.repo %>')
        utterances.setAttribute('crossorigin', 'anonymous');
        utterances.src = '<%= theme.comments.utterances.src %>';
        document.getElementById('comment-container').appendChild(utterances);
    })();
</script>